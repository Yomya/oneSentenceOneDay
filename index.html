<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link href='http://cdn.webfont.youziku.com/webfonts/nomal/124248/45824/5bcac6f6f629d816fc47c743.css' rel='stylesheet' type='text/css' />
  <link rel="stylesheet" href="https://cdn.bootcss.com/twitter-bootstrap/4.1.3/css/bootstrap-grid.css">
  <link rel="stylesheet" href="css/main.css">
  <title>OneDayOneSentence for Miss snow</title>
</head>
<body>
  <img src="img/top.jpg" alt="">
  <p id="hitokoto">:D 获取中...</p>
  <div class="quoteS"><span>——</span><font id="from">:D 获取中...</font></div>
  <h2 class="css153542797f1e558">每日段子</h2>
  <div id="joke"></div>
  <div id="city"></div>
  <div id="weather"></div>
  <script>
    fetch('https://v1.hitokoto.cn')
      .then(function (res){
        return res.json();
      })
      .then(function (data) {
        var hitokoto = document.getElementById('hitokoto');
        var from = document.getElementById('from');
        hitokoto.innerText = data.hitokoto;
        from.innerText = data.from;
      })
      .catch(function (err) {
        console.error(err);
      })
      // 详情查看 https://hitokoto.cn/api
      // 笑话
      fetch('https://api.isoyu.com/index.php/api/joke/index?page=10')
        .then(function (res){
          return res.json();
        })
        .then(function (data) {
          var joke = document.getElementById('joke');
          for(var d in data.data){
            var p=document.createElement("p");
              p.id="spanid";
              p.style.color="gray";
              b=parseInt(parseInt(d)+1);
              p.innerHTML= '<p>'+b+'. '+data.data[d].digest+'</p>'+'<div class="quoteS">'+'——'+data.data[d].source+'</div>';
              joke.appendChild(p);
          }

        })
        .catch(function (err) {
          console.error(err);
        })
        // 天气
        fetch('http://www.weather.com.cn/data/cityinfo/101190408.html')
          .then(function (res){
            return res.json();
          })
          .then(function (data) {
            var city = document.getElementById('city');
            var weather = document.getElementById('weather');
            city.innerText = data.weatherinfo.city;
            weather.innerText = data.weatherinfo.weather;
          })
          .catch(function (err) {
            console.error(err);
          })
  </script>
</body>
</html>
